@page "/recuperarPassword"


<PageTitle>Recuperar Contraseña</PageTitle>

<AuthorizeView>
	<NotAuthorized>
        <MudGrid Justify="Justify.Center">
            <MudItem xs="12" sm="8" md="6" Class="mt-5">
                <MudPaper Class="pa-4 ma-4" Elevation="4">
                    <MudText Typo="Typo.h5">Recuperar contraseña</MudText>
                    <MudText Typo="Typo.body2">Ingrese su email para enviarle el código de recuperación</MudText>
                    <MudForm 
                        Model="model"
                        @ref="form"
                        Validation="@validator.ValidateValue"
                        ValidationDelay="0"
                        Class="mt-2">
                        <MudTextField 
                            T="string" 
                            Label="Email" 
                            @bind-Value="model.Email"
                            For="@(() => model.Email)"
                            InputType="InputType.Email"/>
                        <MudButton 
                            Disabled="@(Enviando)"
                            Class="mt-6 mb-2" 
                            Variant="Variant.Filled" 
                            Color="Color.Primary" 
                            OnClick="@(async () => await EnviarCodigo())"
                            FullWidth="true">
                            @if (Enviando)
                            {
                                <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true"/>
                                <MudText>Enviando código...</MudText>
                            }
                            else
                            {
                                <MudText>Enviar código</MudText>
                            }
                        </MudButton>
                    </MudForm>
                </MudPaper>
            </MudItem>
        </MudGrid>
	</NotAuthorized>
</AuthorizeView>
